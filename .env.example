# Environment Configuration Template
# ⚠️ DO NOT DELETE THIS FILE! It's the template for all environment settings.
# Copy this file to .env and fill in your values
# DO NOT commit .env to version control!

# ============================================================================
# APPLICATION SETTINGS
# ============================================================================

# Environment: development, staging, production
ENV=development

# Debug mode (disable in production!)
DEBUG=false

# API Server
API_HOST=0.0.0.0
API_PORT=5000

# ============================================================================
# SECURITY SETTINGS
# ============================================================================

# Enable API authentication (set to 'true' in production)
AUTH_ENABLED=false

# API Keys (comma-separated, generate strong random keys)
# Example: openssl rand -hex 32
API_KEYS=your-api-key-here,another-api-key

# JWT Secret Key (generate strong random key for production)
# Example: openssl rand -base64 64
JWT_SECRET_KEY=your-jwt-secret-key-change-in-production

# JWT Token Expiration (hours)
JWT_EXPIRATION_HOURS=24

# CORS Allowed Origins (comma-separated)
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173,https://yourdomain.com

# ============================================================================
# SCRAPING SETTINGS
# ============================================================================

# Debug logging
RP_DEBUG=0

# Headless browser mode (1=headless, 0=show browser)
RP_HEADLESS=1

# Enable geocoding
RP_GEOCODE=1

# Maximum pages per site
RP_PAGE_CAP=30

# Maximum geocoding requests per run
RP_MAX_GEOCODES=200

# Block images (speeds up scraping)
RP_NO_IMAGES=1

# Site workers (parallel scraping)
RP_SITE_WORKERS=3

# Disable auto watcher
RP_NO_AUTO_WATCHER=0

# ============================================================================
# FIREBASE / FIRESTORE
# ============================================================================

# Path to Firebase service account JSON file
FIREBASE_SERVICE_ACCOUNT=realtor-s-practice-firebase-adminsdk-fbsvc-c8563eb2f2.json

# Firestore collection name
FIRESTORE_COLLECTION=properties

# Firestore archive collection
FIRESTORE_ARCHIVE_COLLECTION=properties_archive

# Enable Firestore uploads (1=enabled, 0=disabled)
FIRESTORE_ENABLED=1

# Auto-update Firestore aggregates after uploads (1=enabled, 0=disabled)
# When enabled, dashboard/stats are automatically refreshed after scraping
# Recommended: 0 (manual updates via scripts/update_firestore_aggregates.py)
FIRESTORE_AUTO_AGGREGATE=0

# Generate master workbook (1=enabled, 0=disabled)
# Set to 0 to eliminate corruption risk - Firestore becomes primary data store
MASTER_WORKBOOK_ENABLED=1

# ============================================================================
# GITHUB ACTIONS (For Frontend Workflow Triggers)
# ============================================================================

# GitHub Personal Access Token (for triggering workflows from API)
# Required scope: 'repo' (full repository access)
# Generate at: https://github.com/settings/tokens (Personal access tokens → Tokens (classic))
GITHUB_TOKEN=ghp_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# GitHub Repository Owner (your username)
GITHUB_OWNER=Tee-David

# GitHub Repository Name
GITHUB_REPO=realtors_practice

# NOTE: These are used by the API endpoint POST /api/github/trigger-scrape
# to trigger GitHub Actions workflows remotely from your frontend

# ============================================================================
# EMAIL NOTIFICATIONS
# ============================================================================

# SMTP Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password

# From email address
FROM_EMAIL=your-email@gmail.com

# Notification recipients (comma-separated)
NOTIFICATION_RECIPIENTS=recipient1@example.com,recipient2@example.com

# ============================================================================
# RATE LIMITING
# ============================================================================

# Requests per hour (per user/IP)
RATE_LIMIT_PER_HOUR=100

# Requests per day (per user/IP)
RATE_LIMIT_PER_DAY=1000

# ============================================================================
# LOGGING
# ============================================================================

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log file path
LOG_FILE=logs/scraper.log

# Enable security audit log
SECURITY_AUDIT_LOG=true

# ============================================================================
# HTTPS/SSL (for production)
# ============================================================================

# SSL Certificate paths (if using SSL)
# SSL_CERT_PATH=/path/to/cert.pem
# SSL_KEY_PATH=/path/to/key.pem

# Force HTTPS redirect
# FORCE_HTTPS=true

# ============================================================================
# NOTES
# ============================================================================

# 1. Never commit .env file to version control
# 2. Use strong, random keys for production
# 3. Enable AUTH_ENABLED=true in production
# 4. Use HTTPS in production
# 5. Restrict ALLOWED_ORIGINS to your actual domains
# 6. Rotate API keys and secrets regularly
# 7. Keep Firebase credentials secure
# 8. Use app passwords for Gmail SMTP

# ============================================================================
# GENERATING SECURE KEYS
# ============================================================================

# API Key:
#   openssl rand -hex 32

# JWT Secret:
#   openssl rand -base64 64

# Password Hash:
#   python -c "import secrets; print(secrets.token_urlsafe(32))"
